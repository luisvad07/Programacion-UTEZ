-- PR_03_U2 
CREATE TABLE PRODUCTOS(
    ID_PRODUCTO INT,
    NOMBRE_PRODUCTO VARCHAR(20),
    COSTO_PRODUCTO INT
);
DROP TABLE PRODUCTOS;

CREATE OR REPLACE PROCEDURE PAREGISTRARPRODUCTO (
PA_ID_PRODUCTO INT,
PA_NOMBRE_PRODUCTO VARCHAR,
PA_COSTO_PRODUCTO INT
)
AS 
BEGIN
    INSERT INTO PRODUCTOS (ID_PRODUCTO, NOMBRE_PRODUCTO, COSTO_PRODUCTO)
        VALUES (PA_ID_PRODUCTO, PA_NOMBRE_PRODUCTO, PA_COSTO_PRODUCTO);
        COMMIT;
    IF PA_COSTO_PRODUCTO<=30000         
    THEN raise_application_error
        (-20600, 'No se registro correctamente');
        ROLLBACK;
    END IF;    
END;
EXECUTE PAREGISTRARPRODUCTO (1, 'PAPITAS', 25000);
EXECUTE PAREGISTRARPRODUCTO (1, 'PAPITAS', 32000);
select * from PRODUCTOS;
DELETE FROM PRODUCTOS;
DROP PROCEDURE PAREGISTRARPRODUCTO;