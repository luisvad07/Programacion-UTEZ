--PR_01_U2
-- DEMOSTRACION DE TRANSACCIONES

CREATE TABLE EJEMPLO(
    NUMERO1 NUMBER(4),
    NUMERO2 NUMBER(5)
);
DROP TABLE EJEMPLO;
BEGIN 
    INSERT INTO EJEMPLO VALUES (1,2);
    COMMIT;
END;

BEGIN 
    INSERT INTO EJEMPLO VALUES (3,2);
    ROLLBACK;
    INSERT INTO EJEMPLO VALUES (5,6);
    COMMIT;
END;

SELECT * FROM EJEMPLO;

-- SET TRANSACTION / STAR TRANSACCIONES / BEGIN TRANSACCIONES

BEGIN 
    INSERT INTO EJEMPLO VALUES (7,8);
    SAVEPOINT PUNTO1;
    INSERT INTO EJEMPLO VALUES (9,10);
    SAVEPOINT PUNTO2;
    INSERT INTO EJEMPLO VALUES (11,12);
    ROLLBACK TO PUNTO1;
    INSERT INTO EJEMPLO VALUES (13,14);
    COMMIT;
END;

BEGIN 
    INSERT INTO EJEMPLO VALUES (9,10);
    SAVEPOINT PUNTO2;
    ROLLBACK TO PUNTO2;
END;